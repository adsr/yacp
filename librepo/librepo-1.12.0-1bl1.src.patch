--- origsrc/librepo-1.12.0/CMakeLists.txt	2020-05-15 16:43:49.000000000 +0900
+++ src/librepo-1.12.0/CMakeLists.txt	2020-06-11 20:02:11.052781400 +0900
@@ -8,8 +8,10 @@ OPTION (WITH_ZCHUNK "Build with zchunk s
 INCLUDE (${CMAKE_SOURCE_DIR}/VERSION.cmake)
 SET (VERSION "${LIBREPO_MAJOR}.${LIBREPO_MINOR}.${LIBREPO_PATCH}")
 
-SET (CMAKE_C_FLAGS          "${CMAKE_C_FLAGS} -std=c99 -Wall")
-SET (CMAKE_C_FLAGS_DEBUG    "${CMAKE_C_FLAGS} -ggdb -O0 -Wall -Wextra -DDEBUG")
+if (NOT CYGWIN)
+    SET (CMAKE_C_FLAGS          "${CMAKE_C_FLAGS} -std=c99 -Wall")
+    SET (CMAKE_C_FLAGS_DEBUG    "${CMAKE_C_FLAGS} -ggdb -O0 -Wall -Wextra -DDEBUG")
+endif()
 
 IF(CMAKE_BUILD_TYPE AND (CMAKE_BUILD_TYPE STREQUAL "DEBUG" OR CMAKE_BUILD_TYPE STREQUAL "debug"))
     MESSAGE("Build type is set do DEBUG!")
--- origsrc/librepo-1.12.0/librepo/CMakeLists.txt	2020-05-15 16:43:49.000000000 +0900
+++ src/librepo-1.12.0/librepo/CMakeLists.txt	2020-06-11 20:02:11.052781400 +0900
@@ -64,12 +64,12 @@ SET_TARGET_PROPERTIES(librepo PROPERTIES
 CONFIGURE_FILE("librepo.pc.cmake" "${CMAKE_BINARY_DIR}/librepo.pc" @ONLY)
 CONFIGURE_FILE("version.h.in" "${CMAKE_CURRENT_SOURCE_DIR}/version.h" @ONLY)
 
-IF (CMAKE_SIZEOF_VOID_P MATCHES "8")
+IF (CMAKE_SIZEOF_VOID_P MATCHES "8" AND NOT CYGWIN)
   SET (LIB_SUFFIX "64")
-ENDIF (CMAKE_SIZEOF_VOID_P MATCHES "8")
+ENDIF (CMAKE_SIZEOF_VOID_P MATCHES "8" AND NOT CYGWIN)
 
 INSTALL(FILES ${librepo_HEADERS} DESTINATION ${CMAKE_INSTALL_INCLUDEDIR}/librepo)
-INSTALL(TARGETS librepo LIBRARY DESTINATION ${CMAKE_INSTALL_LIBDIR})
+INSTALL(TARGETS librepo RUNTIME DESTINATION ${CMAKE_INSTALL_BINDIR} ARCHIVE DESTINATION ${CMAKE_INSTALL_LIBDIR})
 INSTALL(FILES "${CMAKE_BINARY_DIR}/librepo.pc"
 	DESTINATION "${CMAKE_INSTALL_LIBDIR}/pkgconfig")
 
--- origsrc/librepo-1.12.0/librepo/python/python3/CMakeLists.txt	2020-05-15 16:43:49.000000000 +0900
+++ src/librepo-1.12.0/librepo/python/python3/CMakeLists.txt	2020-06-11 20:02:11.068409500 +0900
@@ -26,4 +26,4 @@ TARGET_LINK_LIBRARIES(_librepo
                      )
 
 INSTALL(FILES ${pylibrepo_SRCDIR}/__init__.py DESTINATION ${PYTHON_INSTALL_DIR}/librepo)
-INSTALL(TARGETS _librepo LIBRARY DESTINATION ${PYTHON_INSTALL_DIR}/librepo)
+INSTALL(TARGETS _librepo RUNTIME DESTINATION ${PYTHON_INSTALL_DIR}/librepo)
