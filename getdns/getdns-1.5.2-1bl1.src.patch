--- origsrc/getdns-1.5.2/configure.ac	2019-04-03 22:37:02.000000000 +0900
+++ src/getdns-1.5.2/configure.ac	2020-02-21 14:43:35.556994200 +0900
@@ -126,7 +126,7 @@ AC_PROG_CPP
 HOSTOS="unix"
 AC_CANONICAL_HOST
 case "${host_os}" in
-cygwin*|mingw*)
+mingw*)
 	HOSTOS=windows
 	;;
 darwin*)
@@ -370,7 +370,10 @@ AC_CHECK_FUNCS([strptime],[AC_CHECK_STRP
 
 # search to set include and library paths right
 # find libidn (no libidn on windows though)
-AC_CHECK_HEADERS([windows.h winsock.h stdio.h winsock2.h ws2tcpip.h],,, [AC_INCLUDES_DEFAULT])
+if test "$host_os" != "cygwin"; then
+	AC_CHECK_HEADERS([windows.h winsock.h winsock2.h ws2tcpip.h])
+fi
+AC_CHECK_HEADERS([stdio.h],,, [AC_INCLUDES_DEFAULT])
 ACX_CHECK_GETADDRINFO_WITH_INCLUDES
 
 AC_ARG_WITH(resolvconf, AS_HELP_STRING([--with-resolvconf=PATH],
