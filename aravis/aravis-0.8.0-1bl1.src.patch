--- origsrc/aravis-0.8.0/src/arvgvdevice.c	2020-08-17 22:26:01.680058000 +0900
+++ src/aravis-0.8.0/src/arvgvdevice.c	2020-08-31 13:14:26.735563800 +0900
@@ -41,14 +41,14 @@
 #include <arvenumtypes.h>
 #include <string.h>
 #include <stdlib.h>
-#ifndef __APPLE__
+#if defined(__linux__) 
 #include <linux/ip.h>
 #endif
 #include <netinet/udp.h>
 
 /* Shared data (main thread - heartbeat) */
 
-#ifdef __APPLE__
+#if !defined(__linux__)
 struct iphdr
   {
 #if __BYTE_ORDER == __LITTLE_ENDIAN
--- origsrc/aravis-0.8.0/src/arvgvstream.c	2020-08-17 22:26:01.681058000 +0900
+++ src/aravis-0.8.0/src/arvgvstream.c	2020-08-31 13:19:17.698369800 +0900
@@ -1333,7 +1333,7 @@ arv_gv_stream_finalize (GObject *object)
 		thread_data = priv->thread_data;
 
 		statistic_string = arv_statistic_to_string (thread_data->statistic);
-		arv_debug_stream (statistic_string);
+		arv_debug_stream ("%s", statistic_string);
 		g_free (statistic_string);
 		arv_statistic_free (thread_data->statistic);
 
--- origsrc/aravis-0.8.0/src/arvrealtime.c	2020-08-17 22:26:01.682058000 +0900
+++ src/aravis-0.8.0/src/arvrealtime.c	2020-08-31 13:14:26.770553700 +0900
@@ -35,7 +35,9 @@
 #include <sys/time.h>
 #include <sys/types.h>
 #include <sys/resource.h>
+#if !defined(__CYGWIN__)
 #include <sys/syscall.h>
+#endif
 
 #define RTKIT_SERVICE_NAME "org.freedesktop.RealtimeKit1"
 #define RTKIT_OBJECT_PATH "/org/freedesktop/RealtimeKit1"
@@ -219,7 +221,11 @@ arv_rtkit_make_high_priority (GDBusConne
 #endif
 
 static pid_t _gettid(void) {
+#if defined(__CYGWIN__)
+		return getpid(); 
+#else
         return (pid_t) syscall(SYS_gettid);
+#endif
 }
 
 /**
